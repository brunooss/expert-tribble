(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n(26),r=n(55),s=n(56),i=n(57),c=n(58),l=n(60),m=n(59),u=n(61),g=(n(118),n(54),n(11)),d=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={authState:"loading",formEmail:"",formPassword:"",messages:[]},n.signIn=function(e){e.preventDefault(),n.state.formEmail&&n.state.formPassword&&g.auth().signInWithEmailAndPassword(n.state.formEmail,n.state.formPassword)},n.signOut=function(){g.auth().signOut()},n.onSignInFormFieldChange=function(e){console.log(e.target),n.setState(Object(s.a)({},e.target.name,e.target.value))},n.generateMessage=function(){g.database().ref("messages").push({text:"Mensagem gerada automaticamente!",random:9999*Math.random()})},n.receiveMessage=function(){g.database().ref("messages").on("value",function(e){o.render(a.createElement("h1",null,"New Message!"),document.getElementById("msg"))})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.auth().onAuthStateChanged(function(t){t?(e.setState({authState:"autenticado"}),console.log("AUTENTICADO")):(e.setState({authState:"naoautenticado"}),console.log("NAOAUTENTICADO"))})}},{key:"render",value:function(){var e=this;switch(g.database().ref("messages").on("value",function(t){e.setState({messages:e.state.messages+t}),console.log("Nova mensagem: "+t.val()),e.state.messages.map(function(e){return a.createElement("h1",{key:"KEY"},"New message")})}),this.state.authState){case"loading":return a.createElement("h1",null,"Loading...");case"autenticado":return a.createElement("div",{className:"App"},a.createElement("header",{className:"Header"},a.createElement("h1",{className:"Title"},"Expert test tribble"),a.createElement("div",null,a.createElement("i",{className:"material-icons Icon"},"email"),a.createElement("i",{className:"material-icons Icon"},"stay_current_portrait"),a.createElement("i",{className:"material-icons Icon"},"chat"))),a.createElement("h1",null,"Chat vai ser aqui ..."),a.createElement("button",{onClick:this.generateMessage},"Generate the message"),a.createElement("button",{onClick:this.signOut},"Sign out"),a.createElement("div",{id:"msg"},a.createElement("h1",null,"Messages here:")));default:return a.createElement("div",{className:"App"},a.createElement("header",{className:"Header"},a.createElement("h1",{className:"Title"},"Expert test Tribble")),a.createElement("form",{className:"Login",onSubmit:this.signIn},a.createElement("h1",null,"Log in"),a.createElement("input",{className:"LoginInput",name:"formEmail",value:this.state.formEmail,onChange:this.onSignInFormFieldChange}),a.createElement("br",null),a.createElement("input",{className:"LoginInput",name:"formPassword",type:"password",value:this.state.formPassword,onChange:this.onSignInFormFieldChange}),a.createElement("br",null),a.createElement("button",{type:"submit"},"Sign In")))}}}]),t}(a.Component),h=(n(119),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function f(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.initializeApp({apiKey:"AIzaSyCNkb1WAn6iPHQpXhFhs6-wr0RzToyDOSk",authDomain:"expert-tribble.firebaseapp.com",databaseURL:"https://expert-tribble.firebaseio.com",projectId:"expert-tribble",storageBucket:"expert-tribble.appspot.com",messagingSenderId:"830210970310"}),o.render(a.createElement(d,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");h?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):f(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):f(e)})}}()},54:function(e,t,n){},62:function(e,t,n){e.exports=n(120)}},[[62,1,2]]]);
//# sourceMappingURL=main.12751931.chunk.js.map